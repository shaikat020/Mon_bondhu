{% extends 'base.html' %}

{% block content %}
<main class="container mx-auto px-4 py-8">
    <div class="glass-morphism p-8 rounded-3xl">
    <div class="content-card" style="background: white; padding: 2rem; border-radius: 15px; margin: 2rem 0;">
        <h2 style="color: #4a5568; margin-bottom: 1rem;">üë®‚Äç‚öïÔ∏è ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶ï‡¶∞‡ßç‡¶Æ‡ßÄ ‡¶°‡¶ø‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡¶∞‡¶ø</h2>
        <p style="color: #718096; margin-bottom: 2rem;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶ï‡¶∞‡ßç‡¶Æ‡ßÄ ‡¶ì ‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶∏‡¶π‡¶æ‡¶Ø‡¶º‡¶ï‡¶¶‡ßá‡¶∞ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®</p>
        
        <!-- Search and Filters -->
        <div class="search-container" style="background: #f7fafc; padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
            <div style="display: grid; grid-template-columns: 1fr auto auto; gap: 1rem; margin-bottom: 1rem;">
                <input type="text" id="searchWorkers" placeholder="‡¶®‡¶æ‡¶Æ, ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡¶æ ‡¶á‡¶â‡¶®‡¶ø‡¶Ø‡¶º‡¶® ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®..." 
                       style="padding: 1rem; border: 2px solid #e2e8f0; border-radius: 10px;">
                <select id="skillFilter" style="padding: 1rem; border: 2px solid #e2e8f0; border-radius: 10px;">
                    <option value="all">‡¶∏‡¶¨ ‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ</option>
                    <option value="mental_health">‡¶Æ‡¶æ‡¶®‡¶∏‡¶ø‡¶ï ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø</option>
                    <option value="first_aid">‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ</option>
                    <option value="maternal_health">‡¶Æ‡¶æ‡¶§‡ßÉ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø</option>
                    <option value="child_health">‡¶∂‡¶ø‡¶∂‡ßÅ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø</option>
                    <option value="chronic_disease">‡¶¶‡ßÄ‡¶∞‡ßç‡¶ò‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßÄ ‡¶∞‡ßã‡¶ó</option>
                </select>
                <select id="areaFilter" style="padding: 1rem; border: 2px solid #e2e8f0; border-radius: 10px;">
                    <option value="all">‡¶∏‡¶¨ ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ</option>
                    <option value="‡¶ö‡¶∞ ‡¶ï‡¶≤‡¶æ‡¶™‡¶æ‡¶°‡¶º‡¶æ">‡¶ö‡¶∞ ‡¶ï‡¶≤‡¶æ‡¶™‡¶æ‡¶°‡¶º‡¶æ</option>
                    <option value="‡¶ö‡¶∞‡¶´‡ßç‡¶Ø‡¶æ‡¶∂‡¶® ‡¶∏‡¶¶‡¶∞">‡¶ö‡¶∞‡¶´‡ßç‡¶Ø‡¶æ‡¶∂‡¶® ‡¶∏‡¶¶‡¶∞</option>
                    <option value="‡¶®‡¶õ‡¶∞‡¶§‡¶™‡ßÅ‡¶∞">‡¶®‡¶õ‡¶∞‡¶§‡¶™‡ßÅ‡¶∞</option>
                </select>
            </div>
            
            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                <button class="filter-btn active" onclick="filterWorkers('all')">‡¶∏‡¶¨ ‡¶ï‡¶∞‡ßç‡¶Æ‡ßÄ</button>
                <button class="filter-btn" onclick="filterWorkers('verified')">‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡ßÉ‡¶§</button>
                <button class="filter-btn" onclick="filterWorkers('available')">‡¶è‡¶ñ‡¶®‡¶á ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß</button>
                <button class="filter-btn" onclick="filterWorkers('whatsapp')">‡¶π‡ßã‡¶Ø‡¶º‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™</button>
            </div>
        </div>

        <!-- Workers List -->
        <div id="workersList">
            <!-- Workers will be loaded here -->
        </div>

        <!-- No Workers Message -->
        <div id="noWorkers" style="display: none; text-align: center; padding: 3rem; color: #718096;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">üîç</div>
            <h3>‡¶ï‡ßã‡¶® ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶ï‡¶∞‡ßç‡¶Æ‡ßÄ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø</h3>
            <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö criteria ‡¶∏‡¶æ‡¶•‡ßá ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ‡•§ ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ ‡¶¨‡¶æ ‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
        </div>
    </div>

    <!-- Important Information -->
    <div class="info-box" style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 1.5rem; border-radius: 10px; margin: 2rem 0;">
        <h4 style="color: #856404; margin-bottom: 1rem;">üí° ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶§‡¶•‡ßç‡¶Ø</h4>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
            <div>
                <h5 style="color: #856404; margin-bottom: 0.5rem;">‚úÖ ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡¶∞‡¶£</h5>
                <p style="color: #856404; margin: 0; font-size: 0.9rem;">
                    <strong>‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡ßÉ‡¶§</strong> ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ú ‡¶•‡¶æ‡¶ï‡¶æ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶ï‡¶∞‡ßç‡¶Æ‡ßÄ‡¶∞‡¶æ ‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞‡¶ø ‡¶¨‡¶æ ‡¶∏‡ßç‡¶¨‡ßÄ‡¶ï‡ßÉ‡¶§ ‡¶è‡¶®‡¶ú‡¶ø‡¶ì ‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ ‡¶™‡ßç‡¶∞‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡•§
                </p>
            </div>
            <div>
                <h5 style="color: #856404; margin-bottom: 0.5rem;">üïí ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶Æ‡ßá‡¶®‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®</h5>
                <p style="color: #856404; margin: 0; font-size: 0.9rem;">
                    ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶ï‡¶∞‡ßç‡¶Æ‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶∏‡¶Æ‡¶Ø‡¶º‡¶∏‡ßÇ‡¶ö‡ßÄ ‡¶Æ‡ßá‡¶®‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®‡•§ ‡¶ú‡¶∞‡ßÅ‡¶∞‡ßÄ ‡¶®‡¶æ ‡¶π‡¶≤‡ßá ‡¶∞‡¶æ‡¶§‡ßá‡¶∞ ‡¶¨‡ßá‡¶≤‡¶æ ‡¶´‡ßã‡¶® ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§
                </p>
            </div>
            <div>
                <h5 style="color: #856404; margin-bottom: 0.5rem;">üìû ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶∂‡¶ø‡¶∑‡ßç‡¶ü‡¶æ‡¶ö‡¶æ‡¶∞</h5>
                <p style="color: #856404; margin: 0; font-size: 0.9rem;">
                    ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶®, ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶ö‡¶Ø‡¶º ‡¶¶‡¶ø‡¶®, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡ßÅ‡¶®‡•§ ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ï‡¶•‡¶æ ‡¶∂‡ßá‡¶∑ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
                </p>
            </div>
        </div>
    </div>

    <!-- Add Worker Form (For demonstration) -->
    <div class="form-card" style="background: white; padding: 2rem; border-radius: 15px; margin: 2rem 0;">
        <h3 style="color: #4a5568; margin-bottom: 1rem;">‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶ï‡¶∞‡ßç‡¶Æ‡ßÄ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
        <p style="color: #718096; margin-bottom: 2rem;">‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶ï‡¶∞‡ßç‡¶Æ‡ßÄ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶® (‡¶°‡ßá‡¶Æ‡ßã ‡¶â‡¶¶‡ßç‡¶¶‡ßá‡¶∂‡ßç‡¶Ø‡ßá)</p>
        
        <form id="addWorkerForm" style="display: grid; gap: 1rem;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div>
                    <label style="display: block; color: #4a5568; margin-bottom: 0.5rem; font-weight: bold;">
                        ‡¶®‡¶æ‡¶Æ *
                    </label>
                    <input type="text" name="name" required 
                           style="width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px;">
                </div>
                <div>
                    <label style="display: block; color: #4a5568; margin-bottom: 0.5rem; font-weight: bold;">
                        ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ *
                    </label>
                    <input type="tel" name="phone" required 
                           style="width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px;">
                </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
                <div>
                    <label style="display: block; color: #4a5568; margin-bottom: 0.5rem; font-weight: bold;">
                        ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ *
                    </label>
                    <input type="text" name="village" required 
                           style="width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px;">
                </div>
                <div>
                    <label style="display: block; color: #4a5568; margin-bottom: 0.5rem; font-weight: bold;">
                        ‡¶á‡¶â‡¶®‡¶ø‡¶Ø‡¶º‡¶® *
                    </label>
                    <input type="text" name="union" required 
                           style="width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px;">
                </div>
                <div>
                    <label style="display: block; color: #4a5568; margin-bottom: 0.5rem; font-weight: bold;">
                        ‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ *
                    </label>
                    <input type="text" name="upazila" required 
                           style="width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px;">
                </div>
            </div>
            
            <div>
                <label style="display: block; color: #4a5568; margin-bottom: 0.5rem; font-weight: bold;">
                    ‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ ‡¶∏‡¶Æ‡ßÇ‡¶π *
                </label>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.5rem;">
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" name="skills" value="mental_health">
                        <span>‡¶Æ‡¶æ‡¶®‡¶∏‡¶ø‡¶ï ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" name="skills" value="first_aid">
                        <span>‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" name="skills" value="maternal_health">
                        <span>‡¶Æ‡¶æ‡¶§‡ßÉ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" name="skills" value="child_health">
                        <span>‡¶∂‡¶ø‡¶∂‡ßÅ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" name="skills" value="chronic_disease">
                        <span>‡¶¶‡ßÄ‡¶∞‡ßç‡¶ò‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßÄ ‡¶∞‡ßã‡¶ó</span>
                    </label>
                </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div>
                    <label style="display: block; color: #4a5568; margin-bottom: 0.5rem; font-weight: bold;">
                        ‡¶™‡ßç‡¶∞‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶£ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶® *
                    </label>
                    <input type="text" name="training_organization" required 
                           style="width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px;">
                </div>
                <div>
                    <label style="display: block; color: #4a5568; margin-bottom: 0.5rem; font-weight: bold;">
                        ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß ‡¶∏‡¶Æ‡¶Ø‡¶º *
                    </label>
                    <input type="text" name="available_hours" required placeholder="‡¶∏‡¶ï‡¶æ‡¶≤ ‡ßÆ‡¶ü‡¶æ - ‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ ‡ß¨‡¶ü‡¶æ"
                           style="width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px;">
                </div>
            </div>
            
            <div style="display: flex; gap: 2rem;">
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="checkbox" name="whatsapp_available">
                    <span>‡¶π‡ßã‡¶Ø‡¶º‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß</span>
                </label>
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="checkbox" name="is_verified">
                    <span>‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡ßÉ‡¶§</span>
                </label>
            </div>
            
            <button type="submit" class="btn" style="background: #667eea; color: white;">
                ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶ï‡¶∞‡ßç‡¶Æ‡ßÄ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
            </button>
        </form>
    </div>
</div>

<style>
/* Base styles */
.content-card, .form-card {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    margin: 2rem 0;
    transition: all 0.3s ease;
}

.search-container {
    background: #f7fafc;
    padding: 1.5rem;
    border-radius: 10px;
    margin-bottom: 2rem;
    transition: all 0.3s ease;
}

.info-box {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    padding: 1.5rem;
    border-radius: 10px;
    margin: 2rem 0;
    transition: all 0.3s ease;
}

.filter-btn {
    padding: 0.5rem 1rem;
    border: 2px solid #e2e8f0;
    background: white;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s;
}

.filter-btn.active,
.filter-btn:hover {
    background: #667eea;
    color: white;
    border-color: #667eea;
}

/* Dark mode - Content cards */
body.dark-mode .content-card,
body.dark-mode .form-card {
    background: #1a202c !important;
    border: 1px solid rgba(255,255,255,0.1);
    color: #e5e7eb;
}

body.dark-mode .search-container {
    background: #2d3748 !important;
    border: 1px solid rgba(255,255,255,0.08);
}

body.dark-mode .info-box {
    background: #422006 !important;
    border-color: #92400e !important;
}

/* Dark mode - Headings with high contrast */
body.dark-mode h2[style*="color: #4a5568"],
body.dark-mode h3[style*="color: #4a5568"] {
    color: #f9fafb !important;
}

body.dark-mode .info-box h4,
body.dark-mode .info-box h5 {
    color: #fde68a !important;
}

/* Dark mode - Paragraphs and text */
body.dark-mode p[style*="color: #718096"],
body.dark-mode p[style*="color: #4a5568"] {
    color: #d1d5db !important;
}

body.dark-mode .info-box p,
body.dark-mode .info-box li {
    color: #fef3c7 !important;
}

/* Dark mode - Inputs and selects */
body.dark-mode input[type="text"],
body.dark-mode input[type="tel"],
body.dark-mode select {
    background: #111827 !important;
    border-color: #374151 !important;
    color: #f9fafb !important;
}

body.dark-mode input::placeholder {
    color: #9ca3af !important;
}

body.dark-mode select option {
    background: #1f2937;
    color: #f9fafb;
}

body.dark-mode input:focus,
body.dark-mode select:focus {
    border-color: #6366f1 !important;
    box-shadow: 0 0 0 3px rgba(99,102,241,0.2) !important;
}

/* Dark mode - Filter buttons */
body.dark-mode .filter-btn {
    background: #1f2937;
    border-color: #374151;
    color: #e5e7eb;
}

body.dark-mode .filter-btn:hover {
    background: #374151;
    border-color: #4b5563;
}

body.dark-mode .filter-btn.active {
    background: #4f46e5 !important;
    border-color: #4f46e5 !important;
    color: white !important;
}

/* Dark mode - Worker cards */
body.dark-mode .worker-card {
    background: #0f172a !important;
    border-color: #334155 !important;
    color: #e5e7eb;
}

body.dark-mode .worker-card:hover {
    box-shadow: 0 8px 24px rgba(0,0,0,0.5) !important;
    border-color: #6366f1 !important;
}

body.dark-mode .worker-card.verified {
    background: #064e3b !important;
    border-left-color: #10b981 !important;
}

body.dark-mode .worker-card h3[style*="color: #2d3748"] {
    color: #f9fafb !important;
}

body.dark-mode .worker-card div[style*="color: #718096"] {
    color: #cbd5e1 !important;
}

body.dark-mode .worker-card strong[style*="color: #4a5568"] {
    color: #e5e7eb !important;
}

/* Dark mode - Skill badges with vibrant colors */
body.dark-mode .skill-badge {
    background: #1e293b;
    color: #cbd5e1;
}

body.dark-mode .skill-mental_health {
    background: #4c1d95 !important;
    color: #e9d5ff !important;
}

body.dark-mode .skill-first_aid {
    background: #991b1b !important;
    color: #fecaca !important;
}

body.dark-mode .skill-maternal_health {
    background: #9f1239 !important;
    color: #fecdd3 !important;
}

body.dark-mode .skill-child_health {
    background: #065f46 !important;
    color: #a7f3d0 !important;
}

body.dark-mode .skill-chronic_disease {
    background: #92400e !important;
    color: #fde68a !important;
}

body.dark-mode .skill-vaccination {
    background: #075985 !important;
    color: #bae6fd !important;
}

body.dark-mode .skill-health_education {
    background: #0f766e !important;
    color: #99f6e4 !important;
}

/* Dark mode - Status badges */
body.dark-mode .verified-badge {
    background: #16a34a !important;
    color: #f0fdf4 !important;
    box-shadow: 0 0 10px rgba(34,197,94,0.3);
}

body.dark-mode .available-badge {
    background: #ea580c !important;
    color: #fff7ed !important;
    box-shadow: 0 0 10px rgba(234,88,12,0.3);
}

/* Dark mode - Labels and checkboxes */
body.dark-mode label {
    color: #d1d5db;
}

body.dark-mode label[style*="color: #4a5568"] {
    color: #e5e7eb !important;
}

/* Dark mode - No workers message */
body.dark-mode #noWorkers {
    color: #9ca3af !important;
}

body.dark-mode #noWorkers h3 {
    color: #d1d5db !important;
}

body.dark-mode #noWorkers p {
    color: #9ca3af !important;
}


.worker-card {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    transition: all 0.3s;
}

.worker-card:hover {
    border-color: #667eea;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.worker-card.verified {
    border-left: 4px solid #38a169;
    background: #f0fff4;
}

.skill-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    font-size: 0.8rem;
    margin-right: 0.5rem;
    margin-bottom: 0.5rem;
    background: #e2e8f0;
    color: #4a5568;
}

.skill-mental_health { background: #e9d8fd; color: #553c9a; }
.skill-first_aid { background: #fed7d7; color: #c53030; }
.skill-maternal_health { background: #fed7e2; color: #b83280; }
.skill-child_health { background: #c6f6d5; color: #276749; }
.skill-chronic_disease { background: #fefcbf; color: #744210; }
.skill-vaccination { background: #bee3f8; color: #2c5282; }
.skill-health_education { background: #e6fffa; color: #234e52; }

.verified-badge {
    background: #38a169;
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: bold;
    margin-left: 1rem;
}

.available-badge {
    background: #ed8936;
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    font-size: 0.8rem;
    margin-left: 0.5rem;
}
</style>

<script>
// Sample workers data
let workersData = [
    {
        id: 1,
        name: "‡¶Æ‡ßã‡¶É ‡¶ï‡¶∞‡¶ø‡¶Æ ‡¶â‡¶¶‡ßç‡¶¶‡¶ø‡¶®",
        phone: "‡ß¶‡ßß‡ß≠‡ßß‡ßß-‡ß®‡ß®‡ß©‡ß©‡ß™‡ß™",
        whatsapp_available: true,
        village: "‡¶ö‡¶∞ ‡¶ï‡¶≤‡¶æ‡¶™‡¶æ‡¶°‡¶º‡¶æ",
        union: "‡¶ö‡¶∞ ‡¶ï‡¶≤‡¶æ‡¶™‡¶æ‡¶°‡¶º‡¶æ",
        upazila: "‡¶ö‡¶∞‡¶´‡ßç‡¶Ø‡¶æ‡¶∂‡¶®",
        skills: ["mental_health", "first_aid", "chronic_disease"],
        training_organization: "‡¶¨‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶ï‡¶∞‡ßç‡¶Æ‡¶∏‡ßÇ‡¶ö‡ßÄ",
        available_hours: "‡¶∏‡¶ï‡¶æ‡¶≤ ‡ßÆ‡¶ü‡¶æ - ‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ ‡ß¨‡¶ü‡¶æ",
        is_verified: true,
        languages: "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ"
    },
    {
        id: 2,
        name: "‡¶Ü‡¶Ø‡¶º‡ßá‡¶∂‡¶æ ‡¶¨‡ßá‡¶ó‡¶Æ",
        phone: "‡ß¶‡ßß‡ßÆ‡ßß‡ß®-‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ",
        whatsapp_available: false,
        village: "‡¶®‡¶õ‡¶∞‡¶§‡¶™‡ßÅ‡¶∞",
        union: "‡¶®‡¶õ‡¶∞‡¶§‡¶™‡ßÅ‡¶∞",
        upazila: "‡¶ö‡¶∞‡¶´‡ßç‡¶Ø‡¶æ‡¶∂‡¶®",
        skills: ["maternal_health", "child_health", "vaccination"],
        training_organization: "‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó",
        available_hours: "‡¶∏‡¶ï‡¶æ‡¶≤ ‡ßØ‡¶ü‡¶æ - ‡¶¨‡¶ø‡¶ï‡ßá‡¶≤ ‡ß™‡¶ü‡¶æ",
        is_verified: true,
        languages: "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ"
    },
    {
        id: 3,
        name: "‡¶∞‡¶´‡¶ø‡¶ï‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ",
        phone: "‡ß¶‡ßß‡ßØ‡ßß‡ß´-‡ß´‡ß´‡ß¨‡ß¨‡ß≠‡ß≠",
        whatsapp_available: true,
        village: "‡¶ö‡¶∞‡¶´‡ßç‡¶Ø‡¶æ‡¶∂‡¶® ‡¶∏‡¶¶‡¶∞",
        union: "‡¶ö‡¶∞‡¶´‡ßç‡¶Ø‡¶æ‡¶∂‡¶® ‡¶∏‡¶¶‡¶∞",
        upazila: "‡¶ö‡¶∞‡¶´‡ßç‡¶Ø‡¶æ‡¶∂‡¶®",
        skills: ["first_aid", "health_education"],
        training_organization: "‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶Ø‡ßÅ‡¶¨ ‡¶∏‡¶Ç‡¶ò",
        available_hours: "‡¶¨‡¶ø‡¶ï‡ßá‡¶≤ ‡ß™‡¶ü‡¶æ - ‡¶∞‡¶æ‡¶§ ‡ßÆ‡¶ü‡¶æ",
        is_verified: false,
        languages: "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ"
    }
];

function displayWorkers(workers = workersData) {
    const container = document.getElementById('workersList');
    const noWorkers = document.getElementById('noWorkers');
    
    if (workers.length === 0) {
        container.style.display = 'none';
        noWorkers.style.display = 'block';
        return;
    }
    
    container.style.display = 'block';
    noWorkers.style.display = 'none';
    
    const now = new Date();
    const currentHour = now.getHours();
    
    container.innerHTML = workers.map(worker => {
        const isVerified = worker.is_verified;
        const isAvailable = checkAvailability(worker.available_hours, currentHour);
        const cardClass = isVerified ? 'worker-card verified' : 'worker-card';
        
        const skillNames = {
            'mental_health': '‡¶Æ‡¶æ‡¶®‡¶∏‡¶ø‡¶ï ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø',
            'first_aid': '‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ',
            'maternal_health': '‡¶Æ‡¶æ‡¶§‡ßÉ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø',
            'child_health': '‡¶∂‡¶ø‡¶∂‡ßÅ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø',
            'chronic_disease': '‡¶¶‡ßÄ‡¶∞‡ßç‡¶ò‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßÄ ‡¶∞‡ßã‡¶ó',
            'vaccination': '‡¶ü‡¶ø‡¶ï‡¶æ‡¶¶‡¶æ‡¶®',
            'health_education': '‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ'
        };
        
        return `
            <div class="${cardClass}">
                <div style="display: flex; justify-content: between; align-items: start; margin-bottom: 1rem;">
                    <div style="flex: 1;">
                        <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
                            <h3 style="color: #2d3748; margin: 0;">${worker.name}</h3>
                            ${isVerified ? '<span class="verified-badge">‚úÖ ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡ßÉ‡¶§</span>' : ''}
                            ${isAvailable ? '<span class="available-badge">‡¶è‡¶ñ‡¶®‡¶á ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß</span>' : ''}
                        </div>
                        <div style="color: #718096; margin-bottom: 1rem;">
                            <div>üìû ${worker.phone} ${worker.whatsapp_available ? '‚Ä¢ üì± ‡¶π‡ßã‡¶Ø‡¶º‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™' : ''}</div>
                            <div>üìç ${worker.village}, ${worker.union}, ${worker.upazila}</div>
                            <div>üïí ${worker.available_hours}</div>
                            <div>üè´ ${worker.training_organization} ‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ ‡¶™‡ßç‡¶∞‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ø‡¶§</div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-bottom: 1rem;">
                    <strong style="color: #4a5568; display: block; margin-bottom: 0.5rem;">‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ:</strong>
                    <div>
                        ${worker.skills.map(skill => `
                            <span class="skill-badge skill-${skill}">${skillNames[skill]}</span>
                        `).join('')}
                    </div>
                </div>
                
                <div style="display: flex; gap: 1rem;">
                    <a href="tel:${worker.phone}" class="btn" style="background: #38a169; color: white; text-decoration: none;">
                        üìû ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </a>
                    ${worker.whatsapp_available ? `
                        <a href="https://wa.me/${worker.phone.replace(/\D/g, '')}" 
                           target="_blank" class="btn" style="background: #25D366; color: white; text-decoration: none;">
                            üí¨ ‡¶π‡ßã‡¶Ø‡¶º‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™
                        </a>
                    ` : ''}
                    <button class="btn" style="background: #667eea; color: white;" 
                            onclick="saveContact('${worker.name}', '${worker.phone}')">
                        üì± ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div>
            </div>
        `;
    }).join('');
}

function checkAvailability(hoursString, currentHour) {
    // Simple availability check based on common time patterns
    if (hoursString.includes('‡¶∏‡¶ï‡¶æ‡¶≤') && hoursString.includes('‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ')) {
        return currentHour >= 8 && currentHour <= 18;
    }
    if (hoursString.includes('‡¶¨‡¶ø‡¶ï‡ßá‡¶≤') && hoursString.includes('‡¶∞‡¶æ‡¶§')) {
        return currentHour >= 16 && currentHour <= 20;
    }
    return true; // Default to available if we can't parse
}

function filterWorkers(filterType) {
    // Update active button
    document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    event.target.classList.add('active');
    
    let filteredWorkers = workersData;
    
    switch (filterType) {
        case 'verified':
            filteredWorkers = workersData.filter(worker => worker.is_verified);
            break;
        case 'available':
            const now = new Date();
            const currentHour = now.getHours();
            filteredWorkers = workersData.filter(worker => 
                checkAvailability(worker.available_hours, currentHour)
            );
            break;
        case 'whatsapp':
            filteredWorkers = workersData.filter(worker => worker.whatsapp_available);
            break;
    }
    
    // Apply search filter
    const searchTerm = document.getElementById('searchWorkers').value.toLowerCase();
    if (searchTerm) {
        filteredWorkers = filteredWorkers.filter(worker => 
            worker.name.toLowerCase().includes(searchTerm) ||
            worker.village.toLowerCase().includes(searchTerm) ||
            worker.union.toLowerCase().includes(searchTerm) ||
            worker.skills.some(skill => skill.toLowerCase().includes(searchTerm))
        );
    }
    
    // Apply skill filter
    const skillFilter = document.getElementById('skillFilter').value;
    if (skillFilter !== 'all') {
        filteredWorkers = filteredWorkers.filter(worker => 
            worker.skills.includes(skillFilter)
        );
    }
    
    // Apply area filter
    const areaFilter = document.getElementById('areaFilter').value;
    if (areaFilter !== 'all') {
        filteredWorkers = filteredWorkers.filter(worker => 
            worker.village === areaFilter || worker.union === areaFilter
        );
    }
    
    displayWorkers(filteredWorkers);
}

function saveContact(name, phone) {
    // In a real app, this would save to device contacts
    alert(`‡¶ï‡¶®‡ßç‡¶ü‡¶æ‡¶ï‡ßç‡¶ü ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá:\n${name}\n${phone}`);
}

// Add worker form handler
document.getElementById('addWorkerForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const skills = [];
    this.querySelectorAll('input[name="skills"]:checked').forEach(checkbox => {
        skills.push(checkbox.value);
    });
    
    const newWorker = {
        id: workersData.length + 1,
        name: formData.get('name'),
        phone: formData.get('phone'),
        whatsapp_available: formData.get('whatsapp_available') === 'on',
        village: formData.get('village'),
        union: formData.get('union'),
        upazila: formData.get('upazila'),
        skills: skills,
        training_organization: formData.get('training_organization'),
        available_hours: formData.get('available_hours'),
        is_verified: formData.get('is_verified') === 'on',
        languages: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ'
    };
    
    workersData.push(newWorker);
    displayWorkers(workersData);
    this.reset();
    
    alert('‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶ï‡¶∞‡ßç‡¶Æ‡ßÄ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
});

// Search and filter event listeners
document.getElementById('searchWorkers').addEventListener('input', filterWorkers);
document.getElementById('skillFilter').addEventListener('change', filterWorkers);
document.getElementById('areaFilter').addEventListener('change', filterWorkers);

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    displayWorkers();
});
</script>
</div>
</main>
{% endblock %}